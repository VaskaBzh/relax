(()=>{"use strict";const e=(e,t)=>{".popup-thank"==e?(()=>{const t=document.querySelector(e);t.addEventListener("click",(e=>{!e.target.matches(".close")&&e.target.closest(".popup-dialog")||(t.style.visibility="hidden")})),t.style.visibility="visible"})():(()=>{const r=document.querySelectorAll(t),o=document.querySelector(e);o.addEventListener("click",(e=>{(e.target.matches(".close")||!e.target.closest(".popup-dialog")&&!e.target.closest(".popup-arrow"))&&(o.style.visibility="hidden")})),r.forEach(((t,r)=>{".popup-privacy"==e?"политикой конфиденциальности"==t.textContent&&t.addEventListener("click",(()=>{o.style.visibility="visible"})):t.addEventListener("click",(()=>{o.style.visibility="visible"}))}))})()},t=(e,t)=>{const r=document.querySelector(e),o=r.querySelector(".slider-counter-content__current"),i=r.querySelector(".slider-counter-content__total");let l=r.querySelectorAll(t+"-slider__slide"),n=1,s=0,a=()=>{l.forEach(((e,t)=>{l[t].style.display="none",l[t].style.position="relative",l[t].style.top=0}))},c=e=>{l[e].style.display="block",l[e].style.position="absolute",l[e].style.top=0};const d=(e,t)=>{if(".popup-portfolio"==t){const e=document.querySelector(".portfolio-slider").querySelectorAll(".portfolio-slider__slide-frame");a(),e.forEach(((e,t)=>{e.addEventListener("click",(()=>{s=t,c(s),o.textContent=s+1,n=s+1}))}))}else if(".popup-transparency"==e){const e=document.querySelector(".transparency-slider").querySelectorAll(".transparency-item__img");r.querySelector(".close").addEventListener("click",a),a(),e.forEach(((e,t)=>{e.addEventListener("click",(()=>{s=t,c(s),o.textContent=s+1,n=s+1}))}))}};"#repair-types"==e?(()=>{const e=r.querySelector(".nav-list-repair"),t=e.querySelectorAll(".repair-types-nav__item"),s=r.querySelectorAll(".types-repair1 > .repair-types-slider__slide"),c=r.querySelectorAll(".types-repair2 > .repair-types-slider__slide"),d=r.querySelectorAll(".types-repair3 > .repair-types-slider__slide"),p=r.querySelectorAll(".types-repair4 > .repair-types-slider__slide"),y=r.querySelectorAll(".types-repair5 > .repair-types-slider__slide");t.forEach(((t,r)=>{t.addEventListener("click",(t=>{t.preventDefault(),e.querySelector(".active").classList.remove("active"),t.target.classList.add("active"),a(),0==r?l=s:1==r?l=c:2==r?l=d:3==r?l=p:4==r&&(l=y),i.textContent=l.length,l[0].style.display="block",l[0].style.position="absolute",l[0].style.top=0,o.textContent=1,n=1}))}))})():".popup-portfolio"==t||".popup-transparency"==e?d(e,t):".popup-portfolio-text"==t&&(()=>{const o=r.querySelector(".row");document.querySelector(".popup-portfolio").querySelector(".close").addEventListener("click",a),o.style.height="100%",l=r.querySelectorAll(t),a=()=>{l.forEach(((e,t)=>{l[t].style.display="none",l[t].style.position="relative",l[t].style.top=0,l[t].style.right=0}))},c=e=>{l[e].style.display="block",l[e].style.position="absolute",l[e].style.top=0,l[e].style.right=0},d(e,".popup-portfolio")})(),i.textContent=l.length,o.textContent=1,n=1,r.addEventListener("click",(e=>{(e.target.closest("#repair-types-arrow_right")||e.target.closest("#transparency_right")||e.target.closest("#popup_portfolio_right"))&&(n==i.textContent&&(n=0),n++,o.textContent=n,a(),s++,s==l.length&&(s=0),c(s)),(e.target.closest("#repair-types-arrow_left")||e.target.closest("#transparency_left")||e.target.closest("#popup_portfolio_left"))&&(n--,0==n&&(n=i.textContent),o.textContent=n,a(),0==s&&(s=l.length),s--,c(s))}))},r=(e,t)=>{const r=document.querySelector(e),o=r.querySelector(t);let i=0,l=0;const n=()=>{window.innerWidth>1024?-704==l&&(r.querySelector(e+"-arrow_right").style.display="none",r.querySelector(e+"-arrow_left").style.display="flex"):window.innerWidth<=1024&&window.innerWidth>768?-1056==l&&(r.querySelector(e+"-arrow_right").style.display="none",r.querySelector(e+"-arrow_left").style.display="flex"):window.innerWidth<=768&&-1364==l&&(r.querySelector(e+"-arrow_right").style.display="none",r.querySelector(e+"-arrow_left").style.display="flex"),0==l&&(r.querySelector(e+"-arrow_left").style.display="none",r.querySelector(e+"-arrow_right").style.display="flex")};"#portfolio"==e?((()=>{const e=o.querySelectorAll(t+"__slide"),i=t=>{e.forEach(((e,r)=>{e.style.transform=`translateX(${t+"px"})`}))};e.forEach(((e,t)=>{e.style.transitionDuration="400ms"})),r.addEventListener("click",(e=>{e.target.closest("#portfolio-arrow_right")&&(window.innerWidth>768?l-=352:window.innerWidth<=768&&(l-=341),i(l),n()),e.target.closest("#portfolio-arrow_left")&&(window.innerWidth>768?l+=352:window.innerWidth<=768&&(l+=341),i(l),n())}))})(),n()):"#repair-types"==e?window.innerWidth<=1024&&r.addEventListener("click",(e=>{e.target.closest("#nav-arrow-repair-left_base")?(window.innerWidth>768?(l+=250,l>20&&(l=-500)):window.innerWidth<=768&&window.innerWidth>425?(l+=230,l>20&&(l=-690)):window.innerWidth<=425&&(l+=210,l>20&&(l=-830)),o.style.transform=`translateX(${l+"px"})`):e.target.closest("#nav-arrow-repair-right_base")&&(window.innerWidth>768?(l-=250,l<-500&&(l=0)):window.innerWidth<=768&&window.innerWidth>425?(l-=230,l<-690&&(l=0)):window.innerWidth<=425&&(l-=210,l<-900&&(l=0)),o.style.transform=`translateX(${l+"px"})`)})):"#formula"==e?(()=>{r.style.overflowX="hidden";const e=document.createElement("div"),n=document.createElement("div");n.innerHTML='<div class="formula-item__icon"><div class="formula-item-popup formula-item-popup-01">Работы ведутся<strong>точно</strong> по графику сострогим <strong>cоблюдением</strong> сроков ремонта,<strong>указанных</strong> в договоре.</div><div class="formula-item__icon-inner">01</div></div><div class="formula-item__descr">Делаем объекты в конкретный срок</div>\x3c!-- formula-item --\x3e',n.classList.add("formula-item"),n.classList.add("formula-slider__slide"),e.innerHTML='<div class="formula-item__icon"><div class="formula-item-popup formula-item-popup-06"><strong>Сами</strong> вывозим и утилизируем мусор. Поприезду, вы войдете в <strong>чистую</strong> жилое помещение, в котором можно <strong>сразужить.</strong></div><div class="formula-item__icon-inner">06</div></div><div class="formula-item__descr">Оставляем чистоту<br>после ремонта</div></div>\x3c!-- /formula-slider --\x3e',e.classList.add("formula-item"),e.classList.add("formula-slider__slide"),o.append(n),o.prepend(e),i++;const s=o.querySelectorAll(t+"__slide"),a=o.querySelectorAll(".formula-item-popup"),c=()=>{s.forEach(((e,t)=>{e.style.opacity=.4,e.style.marginTop="-100px",a[t].style.visibility="hidden",a[t].style.opacity=0}))};l=50,window.innerWidth>=425&&(l=-150),o.style.display="flex";const d=e=>{s.forEach(((t,r)=>{t.style.transform=`translateX(${e+"px"})`}))};s.forEach(((e,t)=>{e.style.transitionDuration="400ms",e.style.height="188px",e.style.marginRight="16px",e.style.marginLeft="16px",e.style.marginTop="-100px"})),d(l),s[i].style.opacity=1,s[i].style.marginTop="-80px",a[i].style.visibility="visible",a[i].style.opacity=1,console.log(i),r.addEventListener("click",(e=>{e.target.closest("#formula-arrow_right")&&(c(),i++,window.innerWidth<=1024&&window.innerWidth>425?(l-=220,l<-1060&&(l=50)):window.innerWidth<=425&&(l-=200,l<-1150&&(l=-150)),0==i?i=6:7==i&&(i=1),console.log(i),s[i].style.opacity=1,s[i].style.marginTop="-80px",a[i].style.visibility="visible",a[i].style.opacity=1,d(l)),e.target.closest("#formula-arrow_left")&&(c(),i--,window.innerWidth<=1024&&window.innerWidth>425?(l+=220,l>50&&(l=-1060)):window.innerWidth<=425&&(l+=200,l>-150&&(l=-1150)),7==i||0==i&&(i=6),s[i].style.opacity=1,s[i].style.marginTop="-80px",a[i].style.visibility="visible",a[i].style.opacity=1,d(l))}))})():"#reviews"==e?(()=>{const e=o.querySelectorAll(t+"__slide"),i=t=>{e.forEach(((e,r)=>{e.style.transform=`translateX(${t+"px"})`}))};o.style.display="flex",e.forEach(((e,t)=>{e.style.transitionDuration="400ms"})),r.addEventListener("click",(e=>{e.target.closest("#reviews-arrow_right")&&((window.innerWidth>768||window.innerWidth<=768)&&(l-=494),l<-1976&&(l=0),i(l)),e.target.closest("#reviews-arrow_left")&&((window.innerWidth>768||window.innerWidth<=768)&&(l+=494),l>0&&(l=-1976),i(l))}))})():"#transparency"==e&&(()=>{if(window.innerWidth<=768){r.style.overflowX="hidden";const e=o.querySelectorAll(".transparency-item");l=150,window.innerWidth<=425&&(l=0),o.style.display="flex",o.style.flexWrap="nowrap";const t=t=>{e.forEach(((e,r)=>{e.style.transform=`translateX(${t+"px"})`}))};t(l),o.style.display="flex",e.forEach(((e,t)=>{e.style.transitionDuration="400ms"})),r.addEventListener("click",(e=>{e.target.closest("#transparency-arrow_right")&&(window.innerWidth<=768&&window.innerWidth>425&&(l-=453,l<-926&&(l=150)),window.innerWidth<=425&&(l-=270,l<-540&&(l=0)),t(l)),e.target.closest("#transparency-arrow_left")&&(window.innerWidth<=768&&window.innerWidth>425&&(l+=453,l>150&&(l=-926)),window.innerWidth<=425&&(l+=270,l>0&&(l=-540)),t(l))}))}})()},o=({formId:t,someElem:r=[]})=>{const o=document.getElementById(t),i=document.createElement("div");i.style.color="#000";try{if(!o)throw new Error("Верните форму на место");o.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=o.querySelectorAll("input"),l=new FormData(o),n={};var s;i.textContent="Загрузка...",o.append(i),l.forEach(((e,t)=>{n[t]=e})),r.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?n[e.id]=t.textContent:"input"===e.type&&(n[e.id]=t.value)})),(s=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((r=>{i.textContent="",e(".popup-thank","-"),t.forEach((e=>{e.value=""}))})).catch((e=>{i.textContent="Ошибка..."}))})()}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector(".header-contacts__arrow img"),t=document.querySelector(".header-contacts__phone-number-accord"),r=t.querySelector(".header-contacts__phone-number");e.setAttribute("style","transform: rotate(0deg);"),e.addEventListener("click",(()=>{"transform: rotate(0deg);"==e.getAttribute("style")?(t.style.top="30px",e.style.transform="rotate(180deg)",r.style.opacity=1):(t.style.top="0",e.style.transform="rotate(0deg)",r.style.opacity=0)}))})(),(()=>{const e=document.querySelector(".menu__icon"),t=document.querySelector(".popup-menu").querySelector(".popup-dialog-menu"),r=document.getElementById("main"),o=document.getElementById("formula"),i=document.getElementById("repair-types"),l=document.getElementById("portfolio"),n=document.getElementById("transparency"),s=document.getElementById("director"),a=document.getElementById("reviews"),c=document.getElementById("faq"),d=()=>{window.innerWidth<576?t.style.transform="translate3d(0, -100vh, 0)":t.style.transform="translate3d(645px, 0, 0)"};e.addEventListener("click",(()=>{t.style.transform="translate3d(0, 0, 0)"})),t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".close")?d():e.target.matches('[href="#main"]')?(r.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#formula"]')?(o.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#repair-types"]')?(i.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#portfolio"]')?(l.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#transparency"]')?(n.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#director"]')?(s.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#reviews"]')?(a.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#faq"]')?(c.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches(".menu-link")&&d()}))})(),(()=>{const e=document.querySelector(".button-footer"),t=document.getElementById("main");e.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({block:"start",behavior:"smooth"})}))})(),e(".popup-privacy",".link-privacy"),e(".popup-repair-types",".link-list"),e(".popup-consultation","#director .button_wide"),e(".popup-transparency",".transparency-item"),e(".popup-portfolio",".portfolio-slider__slide-frame"),window.addEventListener("DOMContentLoaded",(()=>{[].forEach.call(document.querySelectorAll('[name="phone"]'),(e=>{let t;function r(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let r="+7 (___) ___-__-__",o=0,i=r.replace(/\D/g,""),l=this.value.replace(/\D/g,""),n=r.replace(/[_\d]/g,(e=>o<l.length?l.charAt(o++)||i.charAt(o):e));o=n.indexOf("_"),-1!=o&&(o<5&&(o=3),n=n.slice(0,o));let s=r.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=n),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",r,!1),e.addEventListener("focus",r,!1),e.addEventListener("blur",r,!1),e.addEventListener("keydown",r,!1)}))})),(()=>{const e=document.querySelectorAll(".formula-item-popup"),t=document.querySelectorAll(".formula-item__icon"),r=document.querySelectorAll(".formula-item__icon-inner");t.forEach(((t,o)=>{t.addEventListener("mouseenter",(()=>{e[o].style.visibility="visible",e[o].style.opacity=1,r[o].classList.add("active-item"),e[o].getBoundingClientRect().top<=0&&(e[o].style.transform="translateY("+(+e[o].clientHeight+100)+"px)",e[o].style.zIndex=102,e[o].style.paddingTop="30px",e[o].classList.add("rotate"))})),t.addEventListener("mouseout",(()=>{r[o].classList.remove("active-item"),e[o].style.transform="translateY(0)",e[o].style.visibility="hidden",e[o].style.opacity=.1,e[o].style.zIndex=102,e[o].style.paddingTop="20px",e[o].classList.remove("rotate")}))}))})(),(()=>{const e=document.querySelector(".button-footer"),t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(t,0))};e.addEventListener("click",t);const r=document.querySelectorAll('[href*="#"]');for(let e of r)e.addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href").substr(1);document.getElementById(r).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".accordion").querySelectorAll(".title_block");e.forEach((function(t){t.addEventListener("click",(function(){t.classList.contains("msg-active")?t.classList.remove("msg-active"):(e.forEach((e=>{e.classList.remove("msg-active")})),t.classList.add("msg-active"))}))}))})(),t("#repair-types",".types-repair1 > .repair-types"),t(".popup-transparency",".popup-transparency"),t(".popup-portfolio",".popup-portfolio"),t(".popup-portfolio",".popup-portfolio-text"),r("#portfolio",".portfolio-slider"),r("#repair-types",".nav-list"),r("#formula",".formula-slider"),r("#reviews",".reviews-slider"),r("#transparency",".transparency-slider"),o({formId:"feedback1",someElem:[{type:"block",id:"feedback-input1"}]}),o({formId:"feedback2",someElem:[{type:"block",id:"feedback-input2"}]}),o({formId:"feedback3",someElem:[{type:"block",id:"feedback-input3"}]}),o({formId:"feedback4",someElem:[{type:"block",id:"feedback-input4"}]}),o({formId:"feedback5",someElem:[{type:"block",id:"feedback-input5"}]})})();