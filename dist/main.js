(()=>{"use strict";(()=>{const e=document.querySelector(".header-contacts__arrow img"),t=document.querySelector(".header-contacts__phone-number-accord"),r=t.querySelector(".header-contacts__phone-number");e.setAttribute("style","transform: rotate(0deg);"),e.addEventListener("click",(()=>{"transform: rotate(0deg);"==e.getAttribute("style")?(t.style.top="30px",e.style.transform="rotate(180deg)",r.style.opacity=1):(t.style.top="0",e.style.transform="rotate(0deg)",r.style.opacity=0)}))})(),(()=>{const e=document.querySelector(".menu__icon"),t=document.querySelector(".popup-menu").querySelector(".popup-dialog-menu"),r=document.getElementById("main"),o=document.getElementById("formula"),l=document.getElementById("repair-types"),s=document.getElementById("portfolio"),n=document.getElementById("transparency"),i=document.getElementById("director"),c=document.getElementById("reviews"),a=document.getElementById("faq"),d=()=>{window.innerWidth<576?t.style.transform="translate3d(0, -100vh, 0)":t.style.transform="translate3d(645px, 0, 0)"};e.addEventListener("click",(()=>{t.style.transform="translate3d(0, 0, 0)"})),t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".close")?d():e.target.matches('[href="#main"]')?(r.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#formula"]')?(o.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#repair-types"]')?(l.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#portfolio"]')?(s.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#transparency"]')?(n.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#director"]')?(i.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#reviews"]')?(c.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches('[href="#faq"]')?(a.scrollIntoView({block:"start",behavior:"smooth"}),d()):e.target.matches(".menu-link")&&d()}))})(),(()=>{const e=document.querySelector(".button-footer"),t=document.getElementById("main");e.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({block:"start",behavior:"smooth"})}))})(),(()=>{const e=document.querySelectorAll(".link-list"),t=document.querySelector(".popup-repair-types");t.addEventListener("click",(e=>{e.target.matches(".close")&&(t.style.visibility="hidden")})),e.forEach(((e,r)=>{e.addEventListener("click",(()=>{t.style.visibility="visible"}))}))})(),(()=>{const e=document.querySelectorAll(".link-privacy"),t=document.querySelector(".popup-privacy");t.addEventListener("click",(e=>{e.target.matches(".close")&&(t.style.visibility="hidden")})),e.forEach(((e,r)=>{"политикой конфиденциальности"==e.textContent&&e.addEventListener("click",(()=>{t.style.visibility="visible"}))}))})(),window.addEventListener("DOMContentLoaded",(()=>{[].forEach.call(document.querySelectorAll('[name="phone"]'),(e=>{let t;function r(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let r="+7 (___) ___-__-__",o=0,l=r.replace(/\D/g,""),s=this.value.replace(/\D/g,""),n=r.replace(/[_\d]/g,(e=>o<s.length?s.charAt(o++)||l.charAt(o):e));o=n.indexOf("_"),-1!=o&&(o<5&&(o=3),n=n.slice(0,o));let i=r.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");i=new RegExp("^"+i+"$"),(!i.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=n),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",r,!1),e.addEventListener("focus",r,!1),e.addEventListener("blur",r,!1),e.addEventListener("keydown",r,!1)}))})),(()=>{const e=document.querySelectorAll(".formula-item-popup"),t=document.querySelectorAll(".formula-item__icon-inner");document.querySelectorAll(".formula-item__icon-inner-text").forEach(((r,o)=>{r.addEventListener("mouseenter",(()=>{e[o].style.visibility="visible",e[o].style.opacity=1,t[o].classList.add("active-item"),e[o].getBoundingClientRect().top<=0&&(e[o].style.transform="translateY("+(+e[o].clientHeight+100)+"px)",e[o].style.zIndex=102,e[o].style.paddingTop="30px",e[o].classList.add("rotate"))})),r.addEventListener("mouseout",(()=>{t[o].classList.remove("active-item"),e[o].style.transform="translateY(0)",e[o].style.visibility="hidden",e[o].style.opacity=.1,e[o].style.zIndex=102,e[o].style.paddingTop="20px",e[o].classList.remove("rotate")}))}))})(),(()=>{const e=document.querySelector(".button-footer"),t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(t,0))};e.addEventListener("click",t);const r=document.querySelectorAll('[href*="#"]');for(let e of r)e.addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href").substr(1);document.getElementById(r).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".accordion").querySelectorAll(".title_block");e.forEach((function(t){t.addEventListener("click",(function(){t.classList.contains("msg-active")?t.classList.remove("msg-active"):(e.forEach((e=>{e.classList.remove("msg-active")})),t.classList.add("msg-active"))}))}))})(),(()=>{const e=document.getElementById("director").querySelector(".button_wide"),t=document.querySelector(".popup-consultation"),r=t.querySelector(".close");e.addEventListener("click",(()=>{t.style.visibility="visible",console.log("open")})),r.addEventListener("click",(()=>{t.style.visibility="hidden"}))})(),((e,t)=>{const r=document.getElementById(e),o=r.querySelector(".slider-counter-content__current"),l=r.querySelector(".slider-counter-content__total");let s=r.querySelectorAll(t+"-slider__slide"),n=1,i=0;const c=()=>{s.forEach(((e,t)=>{s[t].style.display="none",s[t].style.position="relative",s[t].style.top=0}))};"repair-types"==e&&(()=>{const e=r.querySelector(".nav-list-repair"),t=e.querySelectorAll(".repair-types-nav__item"),i=r.querySelectorAll(".types-repair1 > .repair-types-slider__slide"),a=r.querySelectorAll(".types-repair2 > .repair-types-slider__slide"),d=r.querySelectorAll(".types-repair3 > .repair-types-slider__slide"),y=r.querySelectorAll(".types-repair4 > .repair-types-slider__slide"),u=r.querySelectorAll(".types-repair5 > .repair-types-slider__slide");t.forEach(((t,r)=>{t.addEventListener("click",(t=>{t.preventDefault(),e.querySelector(".active").classList.remove("active"),t.target.classList.add("active"),c(),0==r?s=i:1==r?s=a:2==r?s=d:3==r?s=y:4==r&&(s=u),l.textContent=s.length,s[0].style.display="block",s[0].style.position="absolute",s[0].style.top=0,o.textContent=1,n=1}))}))})(),l.textContent=s.length,o.textContent=1,n=1,r.addEventListener("click",(e=>{e.target.closest("#repair-types-arrow_right")&&(n==l.textContent&&(n=0),n++,o.textContent=n,c(),i++,i==s.length&&(i=0),sldieOn(i)),e.target.closest("#repair-types-arrow_left")&&(n--,0==n&&(n=l.textContent),o.textContent=n,c(),0==i&&(i=s.length),i--,(e=>{s[e].style.display="block",s[e].style.position="absolute",s[e].style.top=0})(i))}))})("repair-types",".types-repair1 > .repair-types")})();